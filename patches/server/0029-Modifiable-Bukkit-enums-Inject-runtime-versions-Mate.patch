From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Martijn Muijsers <martijnmuijsers@live.nl>
Date: Thu, 13 Jul 2023 19:54:12 +0200
Subject: [PATCH] Modifiable Bukkit enums - Inject runtime versions - Material
 - Name and key conversion

License: Fiddle Public License Agreement 1.0 (included in license/FPL-1.0.txt)
Fiddle - https://fiddlemc.org

diff --git a/src/main/java/net/minecraft/server/Main.java b/src/main/java/net/minecraft/server/Main.java
index 49d63ca2b4e0d4e9e03b061ec1efe1224df3d0d5..54d0447fe7365af71c7fa9f45b3b71ac67e8eaaa 100644
--- a/src/main/java/net/minecraft/server/Main.java
+++ b/src/main/java/net/minecraft/server/Main.java
@@ -298,6 +298,11 @@ public class Main {
                 }).build())
                 .make()
                 .load(ClassLoader.getSystemClassLoader(), ClassLoadingStrategy.Default.INJECTION);
+            // Fiddle start - modifiable Bukkit enums - inject runtime versions - Material - name and key conversion
+            for (var fiddleEnumName : fiddleEnumNames) {
+                MaterialNameAndKeyConversion.registerFiddleEnumNameToNamespacedKey(fiddleEnumName.getFirst(), fiddleEnumName.getSecond().getNamespace(), fiddleEnumName.getSecond().getPath());
+            }
+            // Fiddle end - modifiable Bukkit enums - inject runtime versions - Material - name and key conversion
             // Fiddle end - modifiable Bukkit enums - inject runtime versions - Material
 
             dedicatedserversettings.forceSave();
