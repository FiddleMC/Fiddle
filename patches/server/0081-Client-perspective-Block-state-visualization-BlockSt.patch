From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Martijn Muijsers <martijnmuijsers@live.nl>
Date: Sun, 16 Jul 2023 19:25:00 +0200
Subject: [PATCH] Client perspective - Block state visualization - BlockState
 field for visualization setupper

Adds a field in `BlockState` to hold the visualization setupper for that state.

Does not implement anything that sets or gets this value.

License: GPL-3.0 (https://www.gnu.org/licenses/gpl-3.0.html)
Fiddle - https://fiddlemc.org

diff --git a/src/main/java/net/minecraft/world/level/block/state/BlockState.java b/src/main/java/net/minecraft/world/level/block/state/BlockState.java
index 664572ad64ed53386a7348b34ec2bac25e9381d5..cbb89bdc8065249426a3ac4962765a4eeacf1e6d 100644
--- a/src/main/java/net/minecraft/world/level/block/state/BlockState.java
+++ b/src/main/java/net/minecraft/world/level/block/state/BlockState.java
@@ -7,6 +7,9 @@ import net.minecraft.core.Registry;
 import net.minecraft.core.registries.BuiltInRegistries;
 import net.minecraft.world.level.block.Block;
 import net.minecraft.world.level.block.state.properties.Property;
+import org.fiddlemc.fiddle.packet.ClientPerspective;
+import org.fiddlemc.fiddle.packet.block.BlockStateVisualizationSetupProvider;
+import org.jetbrains.annotations.Nullable;
 
 public class BlockState extends BlockBehaviour.BlockStateBase {
     public static final Codec<BlockState> CODEC = codec(BuiltInRegistries.BLOCK.byNameCodec(), Block::defaultBlockState).stable();
@@ -50,4 +53,13 @@ public class BlockState extends BlockBehaviour.BlockStateBase {
     }
     // Fiddle end - cache registry indices as fields - block state
 
+    // Fiddle start - client perspective - block state visualization - BlockState field for visualization setupper
+    /**
+     * The {@linkplain org.fiddlemc.fiddle.packet.block.BlockStateVisualizationSetupper}
+     * that can set up the visualizations for this {@link BlockState}.
+     * If null, there exist no replacements for this state, and it is always sent to clients as-is.
+     */
+    public @Nullable org.fiddlemc.fiddle.packet.block.BlockStateVisualizationSetupper visualizationSetupper = null;
+    // Fiddle end - client perspective - block state visualization - BlockState field for visualization setupper
+
 }
