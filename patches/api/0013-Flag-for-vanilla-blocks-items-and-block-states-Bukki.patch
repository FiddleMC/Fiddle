From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Martijn Muijsers <martijnmuijsers@live.nl>
Date: Wed, 3 Jan 2024 18:23:11 +0100
Subject: [PATCH] Flag for vanilla blocks, items and block states - Bukkit API

Allows getting whether a block, item or block state is present in vanilla.
This is done by providing the abstract methods `UnsafeValues.isVanillaBlock()`, `UnsafeValues.isVanillaItem()` and `BlockData.isVanilla()`, which are implemented in the "Flag for vanilla blocks, items and block states - Bukkit API" patch in the `fiddle-server` module,
and adding the `Material.isVanillaBlock()` and `Material.isVanillaItem()` aliases for the respective methods in `UnsafeValues`.

License: GPL-3.0 (https://www.gnu.org/licenses/gpl-3.0.html)
Fiddle - https://fiddlemc.org

diff --git a/src/main/java/org/bukkit/Material.java b/src/main/java/org/bukkit/Material.java
index 039d8152639b22fbb6af9dfbcc7eb38466ef0f6a..4be53e8527558d180627fda7967f2a7be1247db0 100644
--- a/src/main/java/org/bukkit/Material.java
+++ b/src/main/java/org/bukkit/Material.java
@@ -11074,4 +11074,23 @@ public enum Material implements Keyed, Translatable, net.kyori.adventure.transla
     public boolean isEnabledByFeature(@NotNull World world) {
         return Bukkit.getDataPackManager().isEnabledByFeature(this, world);
     }
+
+    // Fiddle start - flags for vanilla content - API - block
+    /**
+     * @return Whether this {@link Material} is present in vanilla as a block.
+     */
+    public boolean isVanillaBlock() {
+        return Bukkit.getUnsafe().isVanillaBlock(this);
+    }
+    // Fiddle end - flags for vanilla content - API - block
+
+    // Fiddle start - flags for vanilla content - API - item
+    /**
+     * @return Whether this {@link Material} is present in vanilla as an item.
+     */
+    public boolean isVanillaItem() {
+        return Bukkit.getUnsafe().isVanillaItem(this);
+    }
+    // Fiddle end - flags for vanilla content - API - item
+
 }
diff --git a/src/main/java/org/bukkit/UnsafeValues.java b/src/main/java/org/bukkit/UnsafeValues.java
index de36dab37d3af249cf51573d163731c12346066a..b5a6bf8de49a7a42b253f6a27d84255021c8dd96 100644
--- a/src/main/java/org/bukkit/UnsafeValues.java
+++ b/src/main/java/org/bukkit/UnsafeValues.java
@@ -252,4 +252,21 @@ public interface UnsafeValues {
 
     String getStatisticCriteriaKey(@NotNull org.bukkit.Statistic statistic);
     // Paper end
+
+    // Fiddle start - flags for vanilla content - API - block
+    /**
+     * @param material A {@link Material} type.
+     * @return Whether the given {@link Material} is present in vanilla as a block.
+     */
+    boolean isVanillaBlock(Material material);
+    // Fiddle end - flags for vanilla content - API - block
+
+    // Fiddle start - flags for vanilla content - API - item
+    /**
+     * @param material A {@link Material} type.
+     * @return Whether the given {@link Material} is present in vanilla as an item.
+     */
+    boolean isVanillaItem(Material material);
+    // Fiddle end - flags for vanilla content - API - item
+
 }
diff --git a/src/main/java/org/bukkit/block/data/BlockData.java b/src/main/java/org/bukkit/block/data/BlockData.java
index 31111cea5ffd018c3c011c1f3b8befbbd33db5e5..f43cf447c19c2c37dc4dbdb6c34f172c3dd9ec03 100644
--- a/src/main/java/org/bukkit/block/data/BlockData.java
+++ b/src/main/java/org/bukkit/block/data/BlockData.java
@@ -282,4 +282,12 @@ public interface BlockData extends Cloneable {
      */
     boolean isRandomlyTicked();
     // Paper end - Tick API
+
+    // Fiddle start - flags for vanilla content - API - block state
+    /**
+     * @return Whether this block state is present in vanilla.
+     */
+    boolean isVanilla();
+    // Fiddle end - flags for vanilla content - API - block state
+
 }
